webpackJsonp([4],{0:function(e,t,n){(function(e){"use strict";var t=n(2),a=n(465),s={blastoff:function(){this.mainElement=t.render(t.createElement(a,null),window.document.getElementById("app-mount"))}};e.exports=s,e.parent||(window.app=s,s.blastoff())}).call(t,n(1)(e))},465:function(e,t,n){"use strict";var a=n(2),s=n(372),r=n(373),i=n(374),o=n(375),u=n(466),d=n(468),l=a.createClass({displayName:"Component",mixins:[a.addons.LinkedStateMixin],getInitialState:function(){return d.reset(),d.getState()},componentDidMount:function(){d.addChangeListener(this.onStoreChange),this.refs.nameControl.refs.inputField.getDOMNode().focus()},componentWillUnmount:function(){d.removeChangeListener(this.onStoreChange)},onStoreChange:function(){this.setState(d.getState())},handleSubmit:function(e){e.preventDefault(),e.stopPropagation(),u.sendRequest({name:this.state.name,username:this.state.username,password:this.state.password,email:this.state.email})},render:function(){var e=[];this.state.success?e.push(a.createElement("div",{key:"success",className:"alert alert-success"},"Success. Redirecting...")):this.state.error&&e.push(a.createElement("div",{key:"danger",className:"alert alert-danger"},this.state.error));var t;return this.state.success||(t=a.createElement("fieldset",null,a.createElement(r,{name:"name",label:"Name",ref:"nameControl",hasError:this.state.hasError.name,valueLink:this.linkState("name"),help:this.state.help.name,disabled:this.state.loading}),a.createElement(r,{name:"email",label:"Email",hasError:this.state.hasError.email,valueLink:this.linkState("email"),help:this.state.help.email,disabled:this.state.loading}),a.createElement(r,{name:"username",label:"Username",hasError:this.state.hasError.username,valueLink:this.linkState("username"),help:this.state.help.username,disabled:this.state.loading}),a.createElement(r,{name:"password",label:"Password",type:"password",hasError:this.state.hasError.password,valueLink:this.linkState("password"),help:this.state.help.password,disabled:this.state.loading}),a.createElement(s,{hideLabel:!0,hideHelp:!0},a.createElement(i,{type:"submit",inputClasses:{"btn-primary":!0},disabled:this.state.loading},"Create my account",a.createElement(o,{space:"left",show:this.state.loading}))))),a.createElement("section",null,a.createElement("h1",{className:"page-header"},"Sign up"),a.createElement("form",{onSubmit:this.handleSubmit},e,t))}});e.exports=l},466:function(e,t,n){var a=n(311),s=n(467),r=n(318),i=s.PayloadSources.VIEW_ACTION,o=s.PayloadSources.SERVER_ACTION,u=s.ActionTypes,d=a.handleAction,l={sendRequest:function(e){d(i,u.SEND_REQUEST,e);var t={method:"POST",url:"/api/signup",data:e};r(t,function(e,t){e||(window.location.href="/account",t.success=!0),d(o,u.RECEIVE_RESPONSE,t)})}};e.exports=l},467:function(e,t,n){var a=n(316),s=n(317);e.exports={PayloadSources:s,ActionTypes:a.set(["SEND_REQUEST","RECEIVE_RESPONSE"])}},468:function(e,t,n){var a=n(311),s=n(334),r=n(337),i=n(467),o=n(368),u=i.ActionTypes,d=s.extend({dispatcher:a,state:{},defaultState:{loading:!1,success:!1,error:void 0,hasError:{},help:{}},getState:function(){return this.state},reset:function(){this.state=r(this.defaultState)},onDispatcherAction:function(e){var t=e.action;if(u.SEND_REQUEST===t.type&&(this.state.loading=!0,this.state.success=!1,this.state.error=void 0,this.state.hasError={},this.state.help={},this.emitChange()),u.RECEIVE_RESPONSE===t.type){var n=o(t.data.validation,t.data.message);this.state.loading=!1,this.state.success=t.data.success,this.state.hasError=n.hasError,this.state.help=n.help,this.state.error=n.error,this.emitChange()}}});e.exports=d}});
//# sourceMappingURL=signup.map.js